<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="icon2.ico" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" type="text/css" href="/home.css">
    <title>Quản lý công trình</title>
</head>
<body>
    <div class="container">
        <div class="features">
            <div>
                <button id="btn-open-model-add-cons">
                    <i class="fa-solid fa-plus"></i>
                    Thêm công trình
                </button>
            </div>
        </div>
        <div class="list-construct">
            <h2>Danh sách công trình</h2>
            <div>
                <span style="font-weight: 500;">Sắp xếp theo: </span>
                <select>
                    <option value="1">Ngày bắt đầu</option>
                    <option>Ngày hoàn thành</option>
                    <option>Trạng thái</option>
                    <option>Tiến độ chung</option>
                    <option>Tên công trình</option>
                </select>
            </div>
            <table class="list-cons-table">
                <tr>
                    <th style="width: 5%;">STT</th>
                    <th style="width: 40%;">Tên công trình</th>
                    <th style="width: 20%;">Ngày bắt đầu</th>
                    <th style="width: 20%;">Trạng thái</th>
                    <th style="width: 15%;">Chức năng</th>
                </tr>
                <tbody id="list-cons-tbody">
                </tbody>
            </table>
        </div>
        <div class="other-info">
            <div style="text-align: left; margin-top: 30px;">
                <h3 style="margin-bottom: 7px;">Thông tin người quản lý</h3>
                <p id="fullName-profile">Họ tên: </p>
                <p id="phone-profile">SĐT: </p>
                <p id="email-profile">Email: </p>
            </div>
            <div>
                <button onclick="openModalEditProfile()">Chỉnh sửa</button>
            </div>
        </div>
    </div>

    <section class="modal hidden" id="modal-cons">
        <div class="flex" style="border-bottom: 1px solid rgb(110, 110, 110);">
          <h2 id="title-cons" style="padding-bottom: 7px;">Thêm mới công trình</h2>
          <button class="btn-close">⨉</button>
        </div>
        <div class="content-modal">
            <div>
                <label for="">Tên công trình:</label>
                <input id="name-cons" />
            </div>
            <div>
                <label>Ngày bắt đầu:</label>
                <input type="datetime-local" id="startdate-cons"/>
            </div>
            <div>
                <label>Ngày hoàn thành:</label>
                <input type="datetime-local" id="finishdate-cons"/>
            </div>
            <div>
                <label>Trạng thái:</label>
                <select id="status-cons">
                    <option value="1">Đang thực hiện</option>
                    <option value="2">Hoàn thành</option>
                    <option value="3">Tạm ngưng</option>
                    <option value="4">Đã huỷ</option>                   
                </select>
            </div>

            <div>
                <label>Tiến độ chung: </label>
                <span id="generalProgress-cons">6/10</span>
            </div>

            <div>
                <label>Mô tả chi tiết:</label>
                <textarea rows="5" id="detailDescription-cons"></textarea>
            </div>
            <div>
                <label>Thành viên thực hiện:</label>
                <div>
                    <input style="width: 300px;" placeholder="Nhập họ tên" id="member-cons"/>
                    <button style="width: 100px; padding: 0.8rem 1.4rem; font-weight: 700;border-radius: 5px;
                        text-align: center;
                        font-size: 1em; margin-left: 5px; background-color: #0d6efd; color: #fff;"
                        onclick="handleAddNewMember()"
                    >Thêm</button>
                </div>
                <ul id="listMember-cons">
                </ul>
            </div>
            <div>
                <label>Danh sách công việc:</label>
                <input placeholder="Tên công việc" id="jobName-cons"/>
                <textarea rows="3" placeholder="Mô tả công việc..." id="jobDescription-cons"></textarea>
                <textarea rows="2" placeholder="Người thực hiện(Mỗi tên cách nhau bởi dấu phẩy)" id="executor-cons"></textarea>
                <button style="margin-left: 40%; background-color: #0d6efd;" class="btn" onclick="handleAddNewJob()">Thêm</button>
                <div class="list-jobs-add" id="listJobs-cons">
                </div>
            </div>
        </div>
        <button class="btn" id="btnSubmit-cons" onclick="handleAddConstruction()">Xong</button>
    </section>  


    <section class="modal hidden" id="modal-edit-profile">
        <div class="flex" style="border-bottom: 1px solid rgb(110, 110, 110);">
          <h2 style="padding-bottom: 7px;">Chỉnh sửa thông tin cá nhân</h2>
          <button class="btn-close" onclick="closeModal()">⨉</button>
        </div>
        <div class="content-modal">
            <div>
                <label for="">Họ tên:</label>
                <input id="fullName-profile-modal"/>
            </div>
            <div>
                <label for="">SĐT:</label>
                <input id="phone-profile-modal"/>
            </div>
            <div>
                <label for="">Email:</label>
                <input type="email" id="email-profile-modal"/>
            </div>
        </div>
        <button class="btn" style="background-color: #ffa127 !important;" onclick="handleSaveProfile()">Lưu</button>
    </section> 

    <div class="overlay hidden"></div>    

    <script type="module" src="/home.js">
        
    </script>
    
</body>
</html>